<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>Factorial</title>
</head>

<body>
    <div id='result'>
        <script>
            result.innerHTML = '';
            let n = 0;
            const d = Date.now();
            for(var k = 1 ; k <= 20; ++k) {
                fetch(`/fact?k=${k}`)
                .then(response => response.json())
                .then(data => {result.innerHTML += (n++) + ". Result: "+ (Date.now() - d) + ' - ' + data.k + '/' + data.fact + '<br>'});
            }
            result.innerHTML += ` Total: ${Date.now() - d}`;
        </script>
    </div>
</body>

</html>